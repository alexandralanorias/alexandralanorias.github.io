<!DOCTYPE html>
<!--[if IE 8 ]><html class="no-js oldie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>

   <!--- basic page needs
   ================================================== -->
   <meta charset="utf-8">
	<title>Performance Assessment #4</title>
	<meta name="description" content="">  
	<meta name="author" content="">

   <!-- mobile specific metas
   ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

 	<!-- CSS
   ================================================== -->
   <link rel="stylesheet" href="css/base.css">  
   <link rel="stylesheet" href="css/paa4.css">
   <link rel="stylesheet" href="css/vendor.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

   <style type="text/css" media="screen">

   	#styles { 
   		background: white;
   		padding-top: 12rem;
   		padding-bottom: 12rem;
   	}
   	#styles .row {
   		max-width: 1024px;
     	}
     	#styles .section-intro {
   		max-width: 800px;
     	}
      	
   </style>       

   <!-- script
   ================================================== -->
	<script src="js/modernizr.js"></script>
	<script src="js/pace.min.js"></script>

   <!-- favicons
	================================================== -->
	<link rel="icon" type="image/png" href="favicon.png">

</head>

<body id="top">

	<!-- header 
   ================================================== -->
   <header>   	
   	<div class="row">

   		<div class="top-bar">
   			<a class="menu-toggle" href="#"><span>Menu</span></a>

	   		<div class="logo">
		         <a href="index.html">KARDS</a>
		      </div>		      

		   	<nav id="main-nav-wrap">
					<ul class="main-navigation">
						<li><a href="index.html" title="">Home</a></li>
						<li><a class="smoothscroll"  href="#styles" title="">Tables</a></li>
						<li><a class="smoothscroll"  href="#contact" title="">CRUD Functions</a></li>	
					</ul>
				</nav>    		
   		</div> <!-- /top-bar --> 
   		
   	</div> <!-- /row --> 		
   </header> <!-- /header -->

	<!-- intro section
   ================================================== -->
   <section id="intro">   

   	<div class="intro-overlay"></div>	

   	<div class="intro-content">
   		<div class="row">

   			<div class="col-twelve">

	   			<h5>Performance Assessment #4</h5>
	   			<h1>A Simple CRUD App.</h1>

	   			<p class="intro-position">
	   				<span>Create</span>
	   				<span>Read</span> 
					<span>Update</span>
					<span>Delete</span>
	   			</p>

	   			<a class="button stroke smoothscroll" href="#styles" title="">Try It Now</a>

	   		</div>  
   			
   		</div>   		 		
   	</div> <!-- /intro-content --> 

   </section> <!-- /intro -->


   <!-- Style Demo
   ================================================== -->
   <section id="styles">

   	<div class="row section-intro">

   		<div class="col-twelve">

   			<h1>Tables, Teachers, and Transfer Protocol.</h1>

   			<p class="lead">This webpage acts as a mini CRUD app for a simple school system.</p>   			

   		</div>

     	</div> <!-- /row -->

      <div class="row add-bottom">

      	<div class="col-twelve">

      		<h3>Teachers</h3>

			<div class="row">
				<div class="col-twelve tab-full">
							<label>Teacher Table Filter</label>
							<input class="full-width" type="text" placeholder="Type ID number..." id="myInput" onkeyup="myFunction()">
				</div>
			</div>

      		<div class="table-responsive">

      			<table id="teachers">
					  <thead>
					    <tr>
					      <th>ID</th>
					      <th>Last Name</th>
					      <th>First Name</th>
					      <th>Middle Name</th>					    
					    </tr>
					  </thead>
					  <tbody>
					    
					  </tbody>
					</table>

					<a class="button stroke full-width" id="clear_teachers">Delete All Teachers</a>

      		</div>     		

      	</div>
      	
      </div> <!--row -->
	  <br/>
	  <br/>

	<div class="row add-bottom">

		<div class="col-twelve">

			<h3>Subjects</h3>

			<div class="row">
				<div class="col-twelve tab-full">
							<label>Subject Table Filter</label>
							<input class="full-width" type="text" placeholder="Type ID number..." id="myInput2" onkeyup="myFunction2()">
				</div>
			</div>

			<div class="table-responsive">

				<table id="subjects">
					<thead>
					  <tr>
						<th>ID</th>
						<th>Title</th>
						<th>Number</th>
						<th>Transcript Load</th>
						<th>Paying Load</th>
						<th>Teaching Load</th>					    
					  </tr>
					</thead>
					<tbody>
					</tbody>
				  </table>

				  <a class="button stroke full-width" id="clear_subjects">Delete All Subjects</a>

			</div>     		

		</div>
		
	</div> <!--row -->
	<br/>
	<br/>

	<div class="row add-bottom">

		<div class="col-twelve">

			<h3>Students</h3>

			<div class="row">
				<div class="col-twelve tab-full">
							<label>Student Table Filter</label>
							<input class="full-width" type="text" placeholder="Type ID number..." id="myInput3" onkeyup="myFunction3()">
				</div>
			</div>

			<div class="table-responsive">

				<table id="students">
					<thead>
					  <tr>
						<th>ID</th>
						<th>Last Name</th>
						<th>First Name</th>
						<th>Middle Name</th>					    
					  </tr>
					</thead>
					<tbody>
					</tbody>
				  </table>

				  <a class="button stroke full-width" id="clear_students">Delete All Students</a>

			</div>     		

		</div>
		
	</div> <!--row -->

   </section> <!--styles -->	

	
   <!-- contact
   ================================================== -->
	<section id="contact">

		<div class="row section-intro">
   		<div class="col-twelve">

   			<h5>Create</h5>
   			<h1>Teachers.</h1>

   			<p class="lead">Add a new teacher to the records.</p>

   		</div> 
   	</div> <!-- /section-intro -->

   	<div class="row contact-form">

   		<div class="col-twelve">

            <!-- form -->
            <form name="contactForm" id="contactForm">
      			<fieldset>

                  <div class="form-field">
 						   <input name="id" type="text" id="tID" placeholder="ID">
                  </div>
                  <div class="form-field">
	      			   <input name="lastname" type="text" id="tLastName" placeholder="Last Name">
	               </div>
                  <div class="form-field">
	     				   <input name="firstname" type="text" id="tFirstName" placeholder="First Name">
	               </div>                       
				   <div class="form-field">
					       <input name="middlename" type="text" id="tMiddleName" placeholder="Middle Name">
		           </div>                      
                 <div class="form-field">
                     <button class="submitform" id="add_teacher">Create</button>
                  </div>

      			</fieldset>
      		</form> <!-- Form End -->

            <!-- contact-warning -->
            <div id="message-warning"></div>            
            <!-- contact-success -->
      		<div id="message-success">
               <i class="fa fa-check"></i>Your message was sent, thank you!<br>
      		</div>

         </div> <!-- /col-twelve -->
   		
   	</div> <!-- /contact-form -->

	   <div class="row section-intro">
		<div class="col-twelve">

			<h1>Subjects.</h1>

			<p class="lead">Add a new subject to the records.</p>

		</div> 
	</div> <!-- /section-intro -->

	<div class="row contact-form">

		<div class="col-twelve">

		 <!-- form -->
		 <form name="contactForm" id="contactForm">
			   <fieldset>

			   <div class="form-field">
						 <input name="id" type="text" id="subID" placeholder="ID">
			   </div>
			   <div class="form-field">
					  <input name="title" type="text" id="sTitle" placeholder="Title">
				</div>
			   <div class="form-field">
						 <input name="number" type="text" id="sNumber" placeholder="Number">
				</div>                       
				<div class="form-field">
						<input name="transcriptload" type="text" id="sTranscriptLoad" placeholder="Transcript Load">
				</div>
				<div class="form-field">
					<input name="payingload" type="text" id="sPayingLoad" placeholder="Paying Load">
			    </div>     
				<div class="form-field">
					<input name="teachingload" type="text" id="sTeachingLoad" placeholder="Teaching Load">
			    </div>                 
			  <div class="form-field">
				  <button class="submitform" id="add_subject">Create</button>
			   </div>

			   </fieldset>
		   </form> <!-- Form End -->

		 <!-- contact-warning -->
		 <div id="message-warning"></div>            
		 <!-- contact-success -->
		   <div id="message-success">
			<i class="fa fa-check"></i>Your message was sent, thank you!<br>
		   </div>

	  </div> <!-- /col-twelve -->
		
	</div> <!-- /contact-form -->

	<div class="row section-intro">
		<div class="col-twelve">

			<h1>Students.</h1>

			<p class="lead">Add a new student to the records.</p>

		</div> 
	</div> <!-- /section-intro -->

	<div class="row contact-form">

		<div class="col-twelve">

		 <!-- form -->
		 <form name="contactForm" id="contactForm">
			   <fieldset>

			   <div class="form-field">
						 <input name="id" type="text" id="sID" placeholder="ID">
			   </div>
			   <div class="form-field">
					  <input name="lastname" type="text" id="sLastName" placeholder="Last Name">
				</div>
			   <div class="form-field">
						 <input name="firstname" type="text" id="sFirstName" placeholder="First Name">
				</div>                       
				<div class="form-field">
						<input name="middlename" type="text" id="sMiddleName" placeholder="Middle Name">
				</div>                      
			  <div class="form-field">
				  <button class="submitform" id="add_student">Create</button>
			   </div>

			   </fieldset>
		   </form> <!-- Form End -->

		 <!-- contact-warning -->
		 <div id="message-warning"></div>            
		 <!-- contact-success -->
		   <div id="message-success">
			<i class="fa fa-check"></i>Your message was sent, thank you!<br>
		   </div>

	  </div> <!-- /col-twelve -->
		
	</div> <!-- /contact-form -->
		
	</section> <!-- /contact -->


   <!-- footer
   ================================================== -->

   <footer>
     	<div class="row">

     		<div class="col-six tab-full pull-right social">

     			
	      		
	      </div>

      	<div class="col-six tab-full">
	      	<div class="copyright">
				    <br>
		        	<span>Encoded by Alexandra Lanorias</span> 
					<span>Posted March 06, 2022</span>
		        	<span>Design by <a href="http://www.styleshout.com/">styleshout</a></span>	         	
		         </div>		                  
	      	</div>

	      	<div id="go-top">
		         <a class="smoothscroll" title="Back to Top" href="#top"><i class="fa fa-long-arrow-up"></i></a>
		      </div>

      	</div> <!-- /row -->     	
   </footer>    

   <div id="preloader"> 
    	<div id="loader"></div>
   </div> 

   <!-- Java Script
   ================================================== --> 
   <script src="js/jquery-2.1.3.min.js"></script>
   <script src="js/plugins.js"></script>
   <script src="js/main.js"></script>

   <script>
	   var teachers = [];
	   var subjects = [];
	   var students = [];

            $(document).ready(function() {
                if(localStorage.getItem('teachers')) {
                    teachers = JSON.parse(localStorage.getItem('teachers'));
                    loadTeacherTable();
                }

                $("#add_teacher").click(function() {
                    const t_ID = $("#tID").val().trim();
					const t_LastName = $("#tLastName").val().trim();
					const t_FirstName = $("#tFirstName").val().trim();
					const t_MiddleName = $("#tMiddleName").val().trim();

                    if (t_ID == "" || t_LastName == "" || t_FirstName == "" || t_MiddleName == "") {
                        alert("You have missing teacher fields.");
                        return;
                    }

                    const teacher = {ID: t_ID, LastName: t_LastName, FirstName: t_FirstName, MiddleName: t_MiddleName};

                    teachers.push(teacher);
                    addRow(teacher);

                    localStorage.setItem('teachers', JSON.stringify(teachers));
                });

                $("#clear_teachers").click(function() {
                    teachers = [];
                    localStorage.setItem('teachers', JSON.stringify(teachers));
                    $('#teachers tbody').empty();
                });
            });

			$(document).ready(function() {
				if(localStorage.getItem('subjects')) {
                    subjects = JSON.parse(localStorage.getItem('subjects'));
                    loadSubjectTable();
                }

				$("#add_subject").click(function() {
                    const sub_ID = $("#subID").val().trim();
					const s_Title = $("#sTitle").val().trim();
					const s_Number = $("#sNumber").val().trim();
					const s_TranscriptLoad = $("#sTranscriptLoad").val().trim();
					const s_PayingLoad = $("#sPayingLoad").val().trim();
					const s_TeachingLoad = $("#sTeachingLoad").val().trim();

                    if (sub_ID == "" || s_Title == ""  || s_Number == "" || s_TranscriptLoad == "" || s_PayingLoad == "" || s_TeachingLoad == "") {
                        alert("You have missing subject fields.");
                        return;
                    }

                    const subject = {ID: sub_ID, Title: s_Title, Number: s_Number, TranscriptLoad: s_TranscriptLoad, PayingLoad: s_PayingLoad, TeachingLoad: s_TeachingLoad};

                    subjects.push(subject);
                    addRow2(subject);

                    localStorage.setItem('subjects', JSON.stringify(subjects));
                });

                $("#clear_subjects").click(function() {
                    subjects = [];
                    localStorage.setItem('subjects', JSON.stringify(subjects));
                    $('#subjects tbody').empty();
                });
            });

			$(document).ready(function() {
				if(localStorage.getItem('students')) {
                    students = JSON.parse(localStorage.getItem('students'));
                    loadStudentTable();
                }

				$("#add_student").click(function() {
                    const s_ID = $("#sID").val().trim();
					const s_LastName = $("#sLastName").val().trim();
					const s_FirstName = $("#sFirstName").val().trim();
					const s_MiddleName = $("#sMiddleName").val().trim();

                    if (s_ID == "" || s_LastName == "" || s_FirstName == "" || s_MiddleName == "") {
                        alert("You have missing student fields.");
                        return;
                    }

                    const student = {ID: s_ID, LastName: s_LastName, FirstName: s_FirstName, MiddleName: s_MiddleName};

                    students.push(student);
                    addRow3(student);

                    localStorage.setItem('students', JSON.stringify(students));
                });

                $("#clear_students").click(function() {
                    students = [];
                    localStorage.setItem('students', JSON.stringify(students));
                    $('#students tbody').empty();
                });
            });

			function loadTeacherTable() {
                for(teacher of teachers) {
                    addRow(teacher);
                }
            }

            function addRow(teacher) {
                let row = document.createElement("tr");
                let cell = document.createElement("td");
                cell.innerHTML = teacher.ID;
                row.appendChild(cell);
                cell = document.createElement("td");
                cell.innerHTML = teacher.LastName;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = teacher.FirstName;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = teacher.MiddleName;
                row.append(cell);

                $("#teachers tbody").append(row);
            }

            function loadSubjectTable() {
                for(subject of subjects) {
                    addRow2(subject);
                }
            }

            function addRow2(subject) {
                let row = document.createElement("tr");
                let cell = document.createElement("td");
                cell.innerHTML = subject.ID;
                row.appendChild(cell);
                cell = document.createElement("td");
                cell.innerHTML = subject.Title;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = subject.Number;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = subject.TranscriptLoad;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = subject.PayingLoad;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = subject.TeachingLoad;
                row.append(cell);

                $("#subjects tbody").append(row);
            }

			function loadStudentTable() {
                for(student of students) {
                    addRow3(student);
                }
            }

            function addRow3(student) {
                let row = document.createElement("tr");
                let cell = document.createElement("td");
                cell.innerHTML = student.ID;
                row.appendChild(cell);
                cell = document.createElement("td");
                cell.innerHTML = student.LastName;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = student.FirstName;
                row.append(cell);
				cell = document.createElement("td");
                cell.innerHTML = student.MiddleName;
                row.append(cell);

                $("#students tbody").append(row);
            }

			function myFunction() {
	  			var input, filter, table, tr, td, i, txtValue;
	  			input = document.getElementById("myInput");
	  			filter = input.value.toUpperCase();
	  			table = document.getElementById("teachers");
	  			tr = table.getElementsByTagName("tr");

	  			for (i = 0; i < tr.length; i++) {
					td = tr[i].getElementsByTagName("td")[0];
					if (td) {
		  				txtValue = td.textContent || td.innerText;

		  					if (txtValue.toUpperCase().indexOf(filter) > -1) {
								tr[i].style.display = "";
		  					} else {
								tr[i].style.display = "none";
		  			        }
				    }       
	            }
			}

			function myFunction2() {
	  			var input, filter, table, tr, td, i, txtValue;
	  			input = document.getElementById("myInput2");
	  			filter = input.value.toUpperCase();
	  			table = document.getElementById("subjects");
	  			tr = table.getElementsByTagName("tr");

	  			for (i = 0; i < tr.length; i++) {
					td = tr[i].getElementsByTagName("td")[0];
					if (td) {
		  				txtValue = td.textContent || td.innerText;

		  					if (txtValue.toUpperCase().indexOf(filter) > -1) {
								tr[i].style.display = "";
		  					} else {
								tr[i].style.display = "none";
		  			        }
				    }       
	            }
			}

			function myFunction3() {
	  			var input, filter, table, tr, td, i, txtValue;
	  			input = document.getElementById("myInput3");
	  			filter = input.value.toUpperCase();
	  			table = document.getElementById("students");
	  			tr = table.getElementsByTagName("tr");

	  			for (i = 0; i < tr.length; i++) {
					td = tr[i].getElementsByTagName("td")[0];
					if (td) {
		  				txtValue = td.textContent || td.innerText;

		  					if (txtValue.toUpperCase().indexOf(filter) > -1) {
								tr[i].style.display = "";
		  					} else {
								tr[i].style.display = "none";
		  			        }
				    }       
	            }
			}


   </script>

</body>

</html>